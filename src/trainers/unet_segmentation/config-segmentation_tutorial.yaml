# Experiment Parameters
name:
  desc: Name of the experiment
  value: "tutorial_2_TEST"
notes:
  desc: Notes that can be passed to the wandb run
  value: "E.g. Train models with best sweep parameters"
# Training Parameters
num_labels:
  desc: Number of target classes without the nodata class
  value: 23
precalculated_weights:
  desc: Optional rescaling weight given to each class and used with 'ce' loss
  value: [
    3.05754852e-09, 5.61588104e-08, 2.55059813e-07, 1.31145305e-08,
    1.18684274e-08, 2.41300286e-09, 1.39145003e-08, 2.71112867e-08,
    1.55613875e-08, 8.56254672e-09, 3.42943184e-08, 4.17894324e-09,
    4.42492833e-09, 2.31283622e-08, 1.43593138e-08, 5.54229727e-09,
    1.03878198e-08, 4.66937618e-08, 1.60617068e-08, 1.63495321e-08,
    2.86372574e-09, 1.65979327e-08, 6.29546752e-09, 4.21235049e-08
    ]
ignore_index:
  desc: Index to ignore in the loss function (e.g., nodata class)
  value: 0
matmul_precision:
  desc: Internal precision of float32 matrix multiplications
  value: "high"
num_dataloader_workers:
  desc: Number of parallel workers for data loading
  value: 4
gpu_id:
  desc: GPU device ID to use
  value: 0
hyperparameters:
  desc: Hyperparameter dictionary for model training
  value: {
    "input_bands": ["rgb", "cir", "dtm", "dsm", "ndsm"],  # Input data bands/channels
    "batch_size": 8,  # Number of samples per training batch
    "patch_size": 256,  # Size of input image patches (pixels)
    "learning_rate": 0.005,  # Initial learning rate for optimizer
    "res": null, # Resolution in meters (null = use original resolution)
    "train_batches_per_epoch": 512,  # Number of training batches per epoch
    "val_batches_per_epoch": 64,  # Number of validation batches per epoch
    "model": "unet",  # Model architecture to use
    "backbone": "resnet18",  # Backbone network for feature extraction
    "loss": "ce",  # Loss function ('ce' = cross-entropy)
    "use_pretrained_model_weights": True,  # Use pretrained weights for backbone for transfer learning
    "min_epochs": 1,  
    "max_epochs": 2,
    "monitor_metric": "val_MulticlassJaccardIndex",  # Metric to monitor for early stopping
    "patience": 30,  # Early stopping patience (epochs without improvement)
    }
data_folder:
  desc: Path to input data
  value: "D:/Nextcloud/HabitAlp2.0/Ãœbungsdaten" # Replace with your data path
mask_path:
  desc: Path to label mask image
  value: "classes_v3.tif"
roi_shape_path:
  desc: Path to ROI geopackage file
  value: "habitalp_2013_boundary.gpkg"
image_data_paths:
  desc: Relative paths & keys for the input imagery
  value: {
    "rgb": "flug_2013_2015_rgb.tif",
    "cir": "falschfarben_2013_2015.tif",
    "dtm": "dtm.tif",
    "dsm": "dsm.tif",
    "ndsm": "ndsm.tif",
    }
# Evaluation Parameters:
class_names:
  desc: List with class names without the nodata class. Used for plot labels. (optional)
  value: [
    "Waterbody",
    "Gravel bank, shoal, fluviatile",
    "Erosion area, gully",
    "Debris-covered areas",
    "Rock",
    "Young conif. (growth, thicket)",
    "Young broadl. (growth, thicket)",
    "Conif. pole timber CC<80",
    "Conif. pole timber CC>=80",
    "Broadl. pole timber",
    "Conif. mature forest CC<80",
    "Conif. mature forest CC>=80",
    "Broadl. mature forest CC<80",
    "Broadl. mature forest CC>=80",
    "Old conif. forest, multilayered CC<80",
    "Old conif. forest, multilayered CC>=80",
    "Old broadl. forest, multilayered CC<80",
    "Old broadl. forest, multilayered CC>=80",
    "Clearcut areas",
    "Mountain dwarf forest",
    "Grassland, buffer strip",
    "Alpine grassland, heath",
    "Low importance or small extent",
    ]
image_data_paths_pred:
  desc: Relative paths & keys for the prediction input imagery
  value: {
    "rgb": null,
    "cir": null,
    "dtm": null,
    "dsm": null,
    "ndsm": null,
  }